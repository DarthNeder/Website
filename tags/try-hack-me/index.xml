<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Try Hack Me on crazyc4t's blog</title><link>https://crazyc4t.xyz/tags/try-hack-me/</link><description>Recent content in Try Hack Me on crazyc4t's blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Thu, 27 Oct 2022 19:18:39 -0500</lastBuildDate><atom:link href="https://crazyc4t.xyz/tags/try-hack-me/index.xml" rel="self" type="application/rss+xml"/><item><title>Pickle Rick CTF</title><link>https://crazyc4t.xyz/blog/picklerick/</link><pubDate>Thu, 27 Oct 2022 19:18:39 -0500</pubDate><guid>https://crazyc4t.xyz/blog/picklerick/</guid><description>&lt;img src="https://crazyc4t.xyz/images/picklerick.gif" alt="Featured image of post Pickle Rick CTF" />&lt;p>Hello world! I&amp;rsquo;m back again with a new blogpost, related to hacking! am preparing myself for the eJPT so I&amp;rsquo;m taking tons of machines while taking the learning paths from Try Hack Me, specifically the &amp;ldquo;Pre-Security&amp;rdquo;&lt;/p>
&lt;p>This Rick and Morty themed challenge requires you to exploit a webserver to find 3 ingredients that will help rick make his potion to transform himself back into human from a pickle!&lt;/p>
&lt;p>&lt;a class="link" href="https://tryhackme.com/room/picklerick" target="_blank" rel="noopener"
>Room link&lt;/a>&lt;/p>
&lt;p>&lt;strong>Difficulty: easy&lt;/strong>&lt;/p>
&lt;h1 id="enumeration">Enumeration&lt;/h1>
&lt;p>We need to hack this website to get information over the 3 ingredients that Rick needs in order to become human again, so let&amp;rsquo;s run nmap, nikto and gobuster while we inspect the source code of the webpage.&lt;/p>
&lt;h2 id="nmap">Nmap&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo nmap -p- -Ss -Pn -T5 --open 10.10.67.45 -oG allPorts
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://crazyc4t.xyz/images/pknmap.png"
loading="lazy"
alt="nmap"
>&lt;/p>
&lt;p>Giving the nmap scan we know that two ports are open:&lt;/p>
&lt;ul>
&lt;li>SSH (22)&lt;/li>
&lt;li>HTTP (80)&lt;/li>
&lt;/ul>
&lt;p>And we have that stored on the file named &amp;ldquo;allPorts&amp;rdquo;&lt;/p>
&lt;h2 id="gobuster">Gobuster&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">gobuster -t 30 -u 10.10.67.45 -w common.txt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://crazyc4t.xyz/images/pkbuster.png"
loading="lazy"
alt="gobuster"
>&lt;/p>
&lt;p>We need to check always the status code of the HTTP request, being 301 &lt;strong>forbidden&lt;/strong> but &lt;strong>200&lt;/strong> is &lt;strong>OK&lt;/strong> so that robots.txt looks good, let&amp;rsquo;s check it out:
&lt;code>Wubbalubbadubdub&lt;/code>&lt;/p>
&lt;p>That is what is was displayed, meaning that word should be used somewhere&amp;hellip;&lt;/p>
&lt;h2 id="nikto">Nikto&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">nikto -h 10.10.67.45
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Nikto is a tool that scans the web for us and let&amp;rsquo;s us know vulnerabilities associated with it and important directories we should know about, the important output of the command is a &lt;code>login.php&lt;/code> route that will come handy later.&lt;/p>
&lt;h2 id="inspecting-the-source-code">Inspecting the source code&lt;/h2>
&lt;p>&lt;img src="https://crazyc4t.xyz/images/pksource.png"
loading="lazy"
alt="source"
>&lt;/p>
&lt;p>That&amp;rsquo;s perfect, now we have the username: &lt;code>R1ckRul3s&lt;/code>&lt;/p>
&lt;h2 id="gaining-access">Gaining access&lt;/h2>
&lt;p>Now let&amp;rsquo;s go to that &lt;code>login.php&lt;/code> directory, and let&amp;rsquo;s try the credentials we have gathered:&lt;/p>
&lt;ul>
&lt;li>Username: &lt;strong>R1ckRul3s&lt;/strong>&lt;/li>
&lt;li>Password: &lt;strong>Wubbalubbadubdub&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>And we have access!&lt;/p>
&lt;p>&lt;img src="https://crazyc4t.xyz/images/pkacc0.png"
loading="lazy"
alt="companel"
>
&lt;img src="https://crazyc4t.xyz/images/pkreal.png"
loading="lazy"
alt="picklerick"
>&lt;/p>
&lt;p>The other tabs are &amp;ldquo;blocked&amp;rdquo; for the real rick, this is the command panel, where we can execute commands, let&amp;rsquo;s try the basics:&lt;/p>
&lt;ul>
&lt;li>&lt;code>pwd&lt;/code>&lt;/li>
&lt;li>&lt;code>whoami&lt;/code>&lt;/li>
&lt;li>&lt;code>ls -la&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>After knowing a bit about were we are, we can now different directories:
&lt;img src="https://crazyc4t.xyz/images/pkls.png"
loading="lazy"
alt="ls"
>&lt;/p>
&lt;p>Being &lt;code>Sup3rS3cretPickl3Ingred.txt&lt;/code> path, the first ingredient that is a mr. meeseek hair (Look at me!) and the clue is to look around the filesystem and we can do so by executing differents commands at the same time, for example: &lt;code>cd /; ls -la; whoami&lt;/code>&lt;/p>
&lt;p>If we go to &lt;code>/home/rick&lt;/code> we can see there is a &lt;code>second ingredients&lt;/code> but is not a directory, instead is a file, so we can just cat it out:
&lt;img src="https://crazyc4t.xyz/images/pkcat.png"
loading="lazy"
alt="cat"
>&lt;/p>
&lt;p>But the command is blocked, for us the future PICKLEEE RICCCCCKKKKK so we need to find another way around, that is using less: &lt;code>cd /home/rick; less &amp;quot;second ingredients&amp;quot;&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://crazyc4t.xyz/images/pkless.png"
loading="lazy"
alt="less"
>
Being this the answer of the second ingredient.&lt;/p>
&lt;p>Time for looking to the third ingredient, by instict we should look first for the &lt;code>/root&lt;/code> folder, but we don&amp;rsquo;t have permissions so if we run &lt;code>sudo -l&lt;/code> we can know the privilages we have as the &lt;code>www-data&lt;/code> user.&lt;/p>
&lt;p>&lt;img src="https://crazyc4t.xyz/images/pkperm.png"
loading="lazy"
alt="permission"
>&lt;/p>
&lt;p>This means we can run the &lt;code>sudo&lt;/code> command without any password! We can&amp;rsquo;t use the command &lt;code>cd&lt;/code> with sudo beforehand, so let&amp;rsquo;s use &lt;code>ls&lt;/code> instead.&lt;/p>
&lt;p>&lt;img src="https://crazyc4t.xyz/images/pklssudo.png"
loading="lazy"
alt="lssudo"
>&lt;/p>
&lt;p>So we can exploit this vulnerability by using less with sudo: &lt;code>sudo less /root/3rd.txt&lt;/code>, giving the answer:
&lt;img src="https://crazyc4t.xyz/images/pkflag.png"
loading="lazy"
alt="flag"
>&lt;/p>
&lt;p>And with that we helped rick become human again!&lt;/p>
&lt;p>This was a really fun machine easy to get going and learn enumeration for a website, Try Hack Me machines are really fun to get started, as I am doing right now, so expect tons of write ups!&lt;/p></description></item></channel></rss>